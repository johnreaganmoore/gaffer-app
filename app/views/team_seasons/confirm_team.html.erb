<!-- <div class="mini-header"></div> -->
<div class="main-content container">
  <div class="card">
    <div id="season-map">
    </div>
    <div class="sport-indicator">
      <img src="https://www.svgimages.com/svg-image/s4/soccer-ball-icon-256x256.png" class="sport-icon"/>
    </div>
    <div class="card-content" style="margin-top: 80px; text-align:center;">
      <div class="flow-text">
        Thanks for signing up, <%= @captain.first_name %>!
      </div>
      <br>
      <div class="flow-text">
        You are now registered for <%= @season.league.name %>.
      </div>
      <div class="flow-text">
        The season is starting <%= @season.start_date.strftime("%B #{@team_season.season.start_date.day.ordinalize}") %>.
      </div>
      <br>
      <div class="flow-text">
        We'll be in touch with you at <%= @captain.email %>.
      </div>
    </div>
  </div>
</div>

<script>

  var mapStyle = [{"featureType":"water","elementType":"geometry","stylers":[{"color":"#e9e9e9"},{"lightness":17}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"color":"#f5f5f5"},{"lightness":20}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffffff"},{"lightness":17}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#ffffff"},{"lightness":29},{"weight":0.2}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#ffffff"},{"lightness":18}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#ffffff"},{"lightness":16}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#f5f5f5"},{"lightness":21}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#dedede"},{"lightness":21}]},{"elementType":"labels.text.stroke","stylers":[{"visibility":"on"},{"color":"#ffffff"},{"lightness":16}]},{"elementType":"labels.text.fill","stylers":[{"saturation":36},{"color":"#333333"},{"lightness":40}]},{"elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#f2f2f2"},{"lightness":19}]},{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#fefefe"},{"lightness":20}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#fefefe"},{"lightness":17},{"weight":1.2}]}]

  handler = Gmaps.build('Google');
  handler.buildMap({
    provider: {
      zoom:      12,
      center:    new google.maps.LatLng("<%= @season.location_lat %>", "<%= @season.location_long %>"),
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      styles:    mapStyle
    },
    internal: {id: 'season-map'},

  }, function(){

    markers = handler.addMarkers([
      {
        "lat": "<%= @season.location_lat %>",
        "lng": "<%= @season.location_long %>",
        "picture": {
          "url": "<%= image_path 'star-marker.png' %>",
          "width":  16,
          "height": 16
        },
        "infowindow": "This is where you will play!"
      }
    ]);
    handler.bounds.extendWith(markers);
  });
</script>
